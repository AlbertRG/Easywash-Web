{% load static %}
<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Autolavado H2O {% block title%}{% endblock %}</title>
    <link href="{% static 'css/style.css'%}" rel="stylesheet" />
    <link href="{% static 'css/navbar.css'%} " rel="stylesheet" />
    <link href="{% static 'css/productos.css'%} " rel="stylesheet" />
    <link href="{% static 'css/table.css'%} " rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link
      href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"
      rel="stylesheet"
    />
    <!-- Favicons -->
    <link href="{% static 'Images/favicon/favicon.ico'%}" rel="shortcut icon">
    <link href="{% static 'Images/favicon/apple-touch-icon-57-precomposed.ico'%}" rel="apple-touch-icon">
    <link href="{% static 'Images/favicon/apple-touch-icon-72-precomposed.ico'%}" rel="apple-touch-icon" sizes="72x72">
    <link href="{% static 'Images/favicon/apple-touch-icon-144-precomposed.ico'%}" rel="apple-touch-icon" sizes="114x114">

    <style>
      /* Estilo base para los elementos <li> */
        .item {
          display: inline-block;
          text-decoration: none;
          color: white;
          margin: 0 10px;
          padding: 10px 20px;
          border-radius: 20px;
          transition: background-color 0.3s ease; /* Agrega una transición suave para los cambios de color de fondo */
        }
        a{
          text-decoration: none;
          color: white;
        }
        a:link, a:visited, a:active {
          text-decoration:none;
      }
        
        /* Estilo para los elementos <li> seleccionados */
        .item.selected {
          background-color: #03c04a; /* Cambia el color de fondo al seleccionar */
          color: #fff; /* Cambia el color del texto al seleccionar */
        }
        body{
          background: #9597a6;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js" integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
    <script>
      $(function () {
        $(".toggle").on("click", function () {
          if ($(".item").hasClass("active")) {
            $(".item").removeClass("active");
          } else {
            $(".item").addClass("active");
          }
        });
      });
    </script>
  </head>

  <body>
    <header>
      <nav>
        <ul class="menu">
          <li class="logo_img">
            <a href="{% url 'home' %}"
              ><img src="{% static 'Images/logo.png'%}" width="70px"
            /></a>
          </li>
          {% with request.resolver_match.view_name as view_name %}
          <li class="logo "><a href="{% url 'home' %}">H2O Detallado Automotriz</a></li>
          <li class="item {% if view_name == 'home' %} selected{% endif %}"><a href="{% url 'home' %}">Inicio</a></li>
          <li class="item {% if view_name == 'clients' %} selected{% endif %}"><a href="{% url 'clients' %}">Descuentos</a></li>
          <li class="item {% if view_name == 'ventas' %} selected{% endif %}"><a href="{% url 'ventas' %}">Ventas</a></li>
          <li class="item {% if view_name == 'estadisticas' %} selected{% endif %}"><a href="{% url 'estadisticas' %}">Estadisticas</a></li>            
          <li class="item {% if view_name == 'inventario' %} selected{% endif %}"><a href="{% url 'inventario' %}">Inventario</a></li>
          <li class="item {% if view_name == 'servicios' %} selected{% endif %}"><a href="{% url 'servicios' %}">Servicios</a></li>
          <li class="item {% if view_name == 'editar-cuenta' %} selected{% endif %}"><a href="{% url 'editar-cuenta' %}">Mi Cuenta</a></li>

          {% endwith %}

          <li class="item"><a href="{% url 'logout' %}">Salir</a></li>
          <li class="toggle"><span class="bars"></span></li>
        </ul>
      </nav>
    </header>

    <main>
      {% block content %}
      {% endblock %}
    </main>

   <!--  <footer>
      <div class="footer_address">
        <i class="bx bxs-map footer_icon"></i>
        <h3 class="footer_text">
          Av Valle de Atemajac 2316, Jardines del Valle, 45138 Zapopan, Jal.
        </h3>
      </div>

      <a href="#" style="text-decoration: none" rel="noopener noreferrer"
        ><div class="footer_support">
          <i class="bx bx-support footer_icon"></i>
          <h3 class="footer_text">Soporte</h3>
        </div>
      </a>
    </footer>-->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous">
    </script>
    <script src="{% static 'js/gestionInventario.js' %}"></script>
  </body>
  <!-- TODO: Aprender HTML-->
  <!-- <p>Enlace <a href="https://google.com" target="_blank" rel="noopener noreferrer">CLICK</a></p> -->
  <script src="https://code.jquery.com/jquery-3.7.1.slim.js" integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script>
  var j = jQuery.noConflict();
</script>
  <script>
    function buscarCliente() {
      var placas = document.getElementById('txtPlacas').value;
  
      // Realizar la llamada AJAX a la vista de búsqueda del cliente
      j.ajax({
          type: 'GET',
          url: '/buscar_cliente/',
          data: {placas: placas},
          dataType: 'json',
          success: function(response) {
              showMessage('success', response.message);
              // Completa los campos con la información del cliente
              $('#txtNombre').val(response.data.nombre);
              $('#txtApellido').val(response.data.apellido);
              $('#txtTelefono').val(response.data.telefono);
              // ... completa otros campos según sea necesario
          },
          error: function(error) {
              showMessage('error', error.responseJSON.message);
              console.log('Error al buscar el cliente:', error);
          }
      });
  }
  function showMessage(type, text) {
    // Muestra el mensaje en el área correspondiente
    var alertClass = (type === 'success') ? 'alert-success' : 'alert-warning';
    var message = '<div class="alert alert-dismissible ' + alertClass + '">' +
                  '<button type="button" class="close" data-dismiss="alert">&times;</button>' +
                  '<strong class="text-dark">' + text + '</strong>' +
                  '</div>';
    $('#messageArea').html(message);
}
  </script>
  </html>

